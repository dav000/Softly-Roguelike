Softly Into the Night

This week I added some new items to the game and worked more on implementing the ECS system (still one little problem to work out that I've been neglecting to focus on other issues). Additionally, in the past couple days I have been working to re-write parts of the engine all over again to work with a new stat-system paradigm (which is discussed in the thread I posted a few days ago titled "Any issues with this stat system?"). Long story short, there were issues with the stat system.

Essentially, the way my system worked before was, every time you equip some armor or weapon, etc., it simply adds/subtracts a value to the modified total. But, although possibly appearing simpler on the surface, it ended up being easier to do things the way y'all suggested, which is to have a function (called getms or get modified statistic) to access those variables and a dirty flag which you set when something changes. When set, that flag makes that accessor function call another function to re-calculate the stats for an entity based on its equipment, status effects, etc. Then when the dirty flag is not set it simply returns the modified value which is stored in a dictionary and will be cached for quick access. So any time something changes I just set the dirty flag to true, and whenever I access a stat the system knows whether to give the old value or update the value if needed.

There's a lot of work to do to change everything from the old system, but after pumping out work on it yesterday, I think the main thing left to do is go to all the places where the code accesses components' variables directly and replace that with the getms function, then just run some tests to make sure everything works.

Unfortunately I'm still having an issue getting the game to run, as I briefly mentioned. What's happening is the game is technically running but no output is being displayed during gameplay (only during chargen). I'm sure this is a simple case of me overlooking some change in the codebase or forgetting to implement something from the new ECS system. I'm trying not to get overwhelmed on this project and one thing that keeps me sane, I guess, is when something gets stressful, I move on to work on a different area of the project for a while.

One big distraction for me in that regard is adding new features / content (items, etc.) to the game. I simply love that design process almost more than any other aspect of game dev. :)

I said I'd hopefully have a testable game by the end of this year, but the way things are going I doubt that will happen. I'm going to be really busy this semester working on other game dev projects as a part of a local game dev startup in town, in addition to being in classes full time. But I'm still very much full-steam ahead on this project, even if I don't necessarily have much to share every week. I'll still try to post here weekly for major updates.
